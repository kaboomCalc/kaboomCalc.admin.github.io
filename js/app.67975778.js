(function(e){function t(t){for(var n,r,o=t[0],i=t[1],c=t[2],u=0,d=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);p&&p(t);while(d.length)d.shift()();return l.push.apply(l,c||[]),s()}function s(){for(var e,t=0;t<l.length;t++){for(var s=l[t],n=!0,r=1;r<s.length;r++){var o=s[r];0!==a[o]&&(n=!1)}n&&(l.splice(t--,1),e=i(i.s=s[0]))}return e}var n={},r={app:0},a={app:0},l=[];function o(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-2d0d057a":"fe81e037","chunk-2d0d09a7":"321e4171","chunk-2d0d3ae3":"6088b3a1","chunk-2d0de3ab":"09aaf3c0","chunk-2d0e26f6":"893590b5","chunk-2d0e480f":"fe337c68","chunk-2d207b0a":"3b4fc4b0","chunk-2d213773":"8a2599e8","chunk-2d21a019":"b186ee2f","chunk-2d22666c":"7610cc24","chunk-32dd7af8":"7b5d0cc7","chunk-4f65688f":"63e7905d"}[e]+".js"}function i(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.e=function(e){var t=[],s={"chunk-32dd7af8":1,"chunk-4f65688f":1};r[e]?t.push(r[e]):0!==r[e]&&s[e]&&t.push(r[e]=new Promise((function(t,s){for(var n="css/"+({}[e]||e)+"."+{"chunk-2d0d057a":"31d6cfe0","chunk-2d0d09a7":"31d6cfe0","chunk-2d0d3ae3":"31d6cfe0","chunk-2d0de3ab":"31d6cfe0","chunk-2d0e26f6":"31d6cfe0","chunk-2d0e480f":"31d6cfe0","chunk-2d207b0a":"31d6cfe0","chunk-2d213773":"31d6cfe0","chunk-2d21a019":"31d6cfe0","chunk-2d22666c":"31d6cfe0","chunk-32dd7af8":"776884f1","chunk-4f65688f":"53c2e299"}[e]+".css",a=i.p+n,l=document.getElementsByTagName("link"),o=0;o<l.length;o++){var c=l[o],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===n||u===a))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){c=d[o],u=c.getAttribute("data-href");if(u===n||u===a)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||a,l=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");l.code="CSS_CHUNK_LOAD_FAILED",l.request=n,delete r[e],p.parentNode.removeChild(p),s(l)},p.href=a;var m=document.getElementsByTagName("head")[0];m.appendChild(p)})).then((function(){r[e]=0})));var n=a[e];if(0!==n)if(n)t.push(n[2]);else{var l=new Promise((function(t,s){n=a[e]=[t,s]}));t.push(n[2]=l);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=o(e);var d=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(p);var s=a[e];if(0!==s){if(s){var n=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",d.name="ChunkLoadError",d.type=n,d.request=r,s[1](d)}a[e]=void 0}};var p=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=n,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(s,n,function(t){return e[t]}.bind(null,n));return s},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var p=u;l.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"00c3":function(e,t,s){},"0851":function(e,t,s){"use strict";s("5e8d")},"0a54":function(e,t,s){},"1ae4":function(e,t,s){e.exports=s.p+"img/logo.017d77de.svg"},"56d7":function(e,t,s){"use strict";s.r(t);var n=s("2b0e"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app shrine-login",attrs:{id:"app"}},[s("div",{staticClass:"app__body"},[s("transition",{attrs:{name:"app__swipe-animation"}},[s("router-view")],1)],1)])},a=[],l=s("2f62"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"app__header"},[n("div",{staticClass:"app__menu",attrs:{id:"menu"}},[n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[n("div",{staticClass:"app__menu-header"},[n("picture",[n("img",{attrs:{src:s("ff85"),alt:"Закрыть меню"},on:{click:e.hideMenu}})])]),n("div",{staticClass:"app__menu-body"},[n("ul",{staticClass:"app__menu-list"},[e.hasPerm("staff7Buttons")?n("li",{staticClass:"app__menu-item"},[n("router-link",{attrs:{to:"/"}},[e._v("Кунг-фу для упров")])],1):e._e(),e.hasPerm("staff7Buttons")?n("li",{staticClass:"app__menu-item"},[n("router-link",{attrs:{to:"/"}},[e._v("Заявки для упров")])],1):e._e(),e.hasPerm("staff7Buttons")?n("li",{staticClass:"app__menu-item"},[n("router-link",{attrs:{to:"/"}},[e._v("Трелло для упров")])],1):e._e(),e.hasPerm("staff7Buttons")?n("li",{staticClass:"app__menu-item"},[n("router-link",{attrs:{to:"/"}},[e._v("Логи сервера")])],1):e._e(),n("li",{staticClass:"app__menu-item"},[n("router-link",{attrs:{to:"/"}},[e._v("Ушу для админов")])],1),n("li",{staticClass:"app__menu-item"},[n("router-link",{attrs:{to:"/"}},[e._v("Онтайм")])],1),n("li",{staticClass:"app__menu-item"},[n("router-link",{attrs:{to:"/"}},[e._v("Админка")])],1)])])])])])]),n("div",{staticClass:"container"},[n("div",{staticClass:"row justify-content-between align-items-center"},[n("div",{staticClass:"col-auto"},[n("div",{staticClass:"app__hero d-flex align-items-center"},[n("button",{staticClass:"button-menu",on:{click:e.openMenu}},[n("img",{attrs:{src:s("e33c")}})]),n("div",{staticClass:"app__hero-logo"},[n("router-link",{attrs:{to:"/"}},[n("img",{attrs:{src:s("1ae4")}})])],1)])]),n("div",{staticClass:"col-auto"},[n("div",{staticClass:"app__navigation d-flex align-items-center"},[n("span",{staticClass:"app__login"},[e._v(e._s(e.user.login)+" ")]),n("span",{staticClass:"app__staff"},[e._v("("+e._s(e.user.stuff)+")")]),n("span",{staticClass:"app__logout"},[n("button",{staticClass:"button button-primary button-small",on:{click:e.logout}},[e._v("Выйти")])])])])])])])},i=[];const c=[{title:"stuff1",allowedPages:["info","search_uuid","online","mutes"]},{title:"stuff2",allowedPages:["onlineNames"]},{title:"stuff3",allowedPages:["bans","reg"]},{title:"stuff5",allowedPages:["uuid","last","bans_history","mutes_history","mult"]},{title:"stuff7",allowedPages:["ip","bansadm","muteadm","staff7Buttons","mscreen","perms","tpspawn","clear","tps"]},{title:"stuff10",allowedPages:["all"]},{title:"stuff11",allowedPages:["all"]},{title:"stuff12",allowedPages:["all"]},{title:"stuff13",allowedPages:["all"]}];function u(e){let t=[];const s=c.findIndex(t=>t.title===e);if(-1!==s){if(0===s)return c[s].allowedPages;for(let e=0;e<=s;e++)t=t.concat(c[e].allowedPages);return t}return!1}function d(e){return!!u(e)&&u(e)}var p={computed:{...Object(l["c"])("AuthModule",["getStaff"])},methods:{hasPerm(e){return d(this.getStaff)&&d(this.getStaff).includes(e)}}},m={name:"AppHeader",methods:{...Object(l["d"])("AuthModule",["logout"]),openMenu(){this.$menu.classList.add("opened")},hideMenu(){this.$menu.classList.remove("opened")}},mixins:[p],computed:{...Object(l["e"])("AuthModule",["user"])},mounted(){this.$menu=document.querySelector("#menu")}},h=m,f=(s("77f5"),s("2877")),v=Object(f["a"])(h,o,i,!1,null,"6550cf8f",null),g=v.exports,_={name:"App",components:{AppHeader:g},methods:{...Object(l["d"])("AuthModule",["auth","logout"])},mounted(){try{const e=!!localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user")),t=!(!e||!e.success)&&e.success;if(t)return this.auth(e)}catch(e){console.error(e),this.logout()}}},b=_,C=(s("5c0b"),Object(f["a"])(b,r,a,!1,null,null,null)),k=C.exports,w=s("9483");Object(w["a"])("/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var y=s("8c4f"),S=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app__page"},[e.isAuthenticated?s("AppHeader"):e._e(),s("main",{staticClass:"app__check"},[s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("form",{staticClass:"check__form"},[s("div",{staticClass:"form-group mr-3"},[s("AppSelect",{attrs:{id:"check__select-options",items:e.items,value:e.select.title,placeholder:e.select.placeholder},on:{onChange:e.onChange}})],1),s("div",{staticClass:"form-group mr-3"},["tps"!=e.select.value?s("AppInput",{attrs:{id:"check__input",value:e.input,placeholder:e.placeholder},on:{onInput:e.onInput}}):s("AppSelect",{attrs:{id:"check__select-servers",items:e.getServersList,value:e.getCurrentServer,placeholder:"Выберите сервер"},on:{onChange:e.onChangeServer}})],1),s("div",{staticClass:"form-group mr-3"},[s("button",{staticClass:"button button-primary button-next",attrs:{type:"button"},on:{click:e.query}},[e._v("Вперед")])])])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("div",{staticClass:"output"},[s(e.components.current,{tag:"component",attrs:{result:e.result}})],1)])])])])],1)},O=[],j=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"select",class:e.isSelected?"selected":"",attrs:{"data-id":e.id},on:{click:e.toggle}},[s("div",{staticClass:"select__current"},[s("span",{staticClass:"select__current-value",attrs:{id:e.id}},[e._v(e._s(""!=e.value?e.value:e.placeholder))]),s("div",{staticClass:"select__arrow"},[s("svg",{attrs:{width:"19",height:"22",viewBox:"0 0 19 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M8.31242 1.07993V17.9117L2.02693 12.1956C1.56321 11.7739 0.811514 11.7739 0.347792 12.1956C-0.115931 12.6173 -0.115931 13.3012 0.347792 13.7229L8.66036 21.2824C9.12408 21.7041 9.87607 21.7041 10.3395 21.2824L18.6521 13.7229C18.8839 13.5121 19 13.2356 19 12.9591C19 12.6829 18.8839 12.4065 18.6521 12.1956C18.1883 11.7739 17.4363 11.7739 16.9729 12.1956L10.6874 17.9117V1.07993C10.6874 0.483808 10.1557 0 9.49993 0C8.84412 0 8.31242 0.483538 8.31242 1.07993Z",fill:"#FD6950"}})])])]),s("ul",{staticClass:"select__list"},[0!==e.items.length?e._l(e.items,(function(t,n){return s("li",{key:n,staticClass:"select__item",on:{click:function(s){return e.pick(t,s)}}},[s("span",{staticClass:"select__item-title"},[e._v(e._s(t.name))])])})):[s("li",{staticClass:"select__item disabled"},[e._v("Не удалось загрузить список.")])]],2)])},P=[],A={name:"Select",props:{placeholder:{type:String,required:!1,default:""},id:{type:String,required:!0},items:{type:Array,required:!0},value:{type:String,required:!1,default:""}},computed:{isSelected(){return this.value}},data(){return{$e:null,$list:null,isDropdownOpen:!1}},methods:{pick(e,t){const s=t.target,n=s.closest(".select__item.disabled");n||this.$emit("onChange",e)},toggle(){this.isDropdownOpen?this.hide():this.open(),this.isDropdownOpen=!this.isDropdownOpen},open(){this.$e.classList.add("active"),document.addEventListener("click",this.overlayHandler)},hide(){this.$e.classList.remove("active"),document.removeEventListener("click",this.overlayHandler)},overlayHandler(e){e.target.closest(`.select[data-id="${this.id}"]`)||this.toggle()}},mounted(){try{this.$e=document.querySelector(`.select[data-id="${this.id}"]`),this.$list=this.$e.querySelector(".select__list")}catch(e){console.error(e.message)}}},x=A,L=(s("e373"),Object(f["a"])(x,j,P,!1,null,"b1144b52",null)),M=L.exports,$=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("input",{class:e.options&&e.options.class?e.options.class:"input",attrs:{type:e.options&&e.options.type?e.options.type:"text",id:e.id,autocomplete:"off",placeholder:e.placeholder},domProps:{value:e.value},on:{input:e.onInput}})},E=[],I={name:"Input",props:{value:{type:String,required:!1,default:""},id:{type:String,required:!0},options:{type:Object,required:!1},placeholder:{type:String,required:!1,default:""}},methods:{onInput(e){this.$emit("onInput",e.target.value)}}},q=I,N=(s("0851"),Object(f["a"])(q,$,E,!1,null,"726451c2",null)),T=N.exports,B=[{name:"Пермы в игре",value:"perms"},{name:"Баны админов",value:"bansadm"},{name:"Муты админов",value:"muteadm"},{name:"Информация",value:"info"},{name:"Баны",value:"bans"},{name:"Муты",value:"mutes"},{name:"Мульты",value:"mult"},{name:"Онлайн",value:"online"},{name:"TPS серверов",value:"tps"},{name:"mscreen",value:"mscreen"},{name:"clear",value:"clear"},{name:"tpspawn",value:"tpspawn"}];const H="https://mips-admin.kaboom2.net/api/?act=";var D={perms:{url:H+"perms&login=",placeholder:"Введите логин",template:"perms"},bansadm:{url:H+"bansadm&login=",placeholder:"Введите логин",template:"bansadm"},info:{url:H+"info&login=",placeholder:"Введите логин",template:"info"},bans:{url:H+"bans&login=",placeholder:"Введите логин",template:"bans"},mutes:{url:H+"mutes&login=",placeholder:"Введите логин",template:"mutes"},mult:{url:H+"mult&login=",placeholder:"Введите логин",template:"mult"},online:{url:H+"online",placeholder:"Ничего вводить не нужно",template:"online"},tps:{url:H+"tps&server=",placeholder:"Введите сервер",template:"tps"},mscreen:{url:H+"mscreen&login=",placeholder:"Введите логин",template:"mscreen"},clear:{url:H+"clear&login=",placeholder:"Введите логин",template:"clear"},tpspawn:{url:H+"tpspawn&login=",placeholder:"Введите логин",template:"tpspawn"}};function F(e){return 200!==e.status?Promise.reject(new Error(e.statusText)):Promise.resolve(e)}function J(e){return e.json()}var U={name:"Home",data(){return{options:B,components:{default:()=>s.e("chunk-32dd7af8").then(s.bind(null,"547c")),current:()=>s.e("chunk-32dd7af8").then(s.bind(null,"547c")),list:{tps:()=>s.e("chunk-4f65688f").then(s.bind(null,"0358")),perms:()=>s.e("chunk-2d0e480f").then(s.bind(null,"9101")),bansadm:()=>s.e("chunk-2d0d057a").then(s.bind(null,"6824")),info:()=>s.e("chunk-2d22666c").then(s.bind(null,"e902")),bans:()=>s.e("chunk-2d21a019").then(s.bind(null,"ba59")),mutes:()=>s.e("chunk-2d0d09a7").then(s.bind(null,"694b")),mult:()=>s.e("chunk-2d213773").then(s.bind(null,"ad93")),online:()=>s.e("chunk-2d0de3ab").then(s.bind(null,"8580")),mscreen:()=>s.e("chunk-2d0d3ae3").then(s.bind(null,"5e96")),clear:()=>s.e("chunk-2d207b0a").then(s.bind(null,"a236")),tpspawn:()=>s.e("chunk-2d0e26f6").then(s.bind(null,"7f4e"))}},result:{}}},components:{AppHeader:g,AppSelect:M,AppInput:T},watch:{select(e,t){"tps"==e.value&&this.getServersList&&0==this.getServersList.length?this.fetchServersList():"tps"==t.value&&"tps"!=e.value&&this.clear(),this.components.current=this.components.default}},computed:{placeholder(){return this.select.title&&"Выберите пункт"!=this.select.title&&D[this.select.value].placeholder?D[this.select.value].placeholder:"Начните вводить..."},items(){return this.options.filter(e=>this.hasPerm(e.value))},...Object(l["c"])("AuthModule",["isAuthenticated"]),...Object(l["e"])("CheckModule",["select","input"]),...Object(l["c"])("CheckModule",["getServersList","getCurrentServer"])},mixins:[p],methods:{...Object(l["d"])("AuthModule",["logout"]),...Object(l["d"])("CheckModule",["updateInput","updateSelect","updateServers","updateCurrentServer","clear","fullClear"]),...Object(l["b"])("CheckModule",["fetchServersList"]),query(){try{if(""!=this.input){const e=fetch(D[this.select.value].url+this.input,{method:"post"});e.then(e=>F(e)).then(e=>J(e)).then(e=>{if(""==e.error&&e.result&&0!=e.result.length)this.components.current=this.components.list[this.select.value],this.result=e;else{if(!e.result.success)return console.error("Ошибка при выполнении запроса."),!1;this.logout()}}).catch(e=>{throw e})}}catch(e){console.error(e)}},onChange(e){this.updateSelect({title:e.name,value:e.value})},onChangeServer(e){this.updateCurrentServer(e.name),this.updateInput(e.name),this.components.current=this.components.default},onInput(e){this.updateInput(e)}},beforeDestroy(){this.fullClear()}},K=U,Q=(s("6ad7"),Object(f["a"])(K,S,O,!1,null,"6ac6b323",null)),V=Q.exports,Z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",{staticClass:"app app__login"},[s("div",{staticClass:"form login__form",class:"error"==e.error.status?"form-invalid":""},[s("h1",{staticClass:"login__title"},[e._v("Вход")]),s("div",{staticClass:"form__body"},[s("div",{staticClass:"form__group-input"},[s("label",{staticClass:"form-label",attrs:{for:"login"}},[e._v("Логин")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.login,expression:"form.login"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Ваш логин",id:"login"},domProps:{value:e.form.login},on:{input:function(t){t.target.composing||e.$set(e.form,"login",t.target.value)}}})]),s("div",{staticClass:"form__group-input"},[s("label",{staticClass:"form-label",attrs:{for:"password"}},[e._v("Пароль")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"form-control",attrs:{type:"password",placeholder:"Ваш пароль",id:"password"},domProps:{value:e.form.password},on:{input:function(t){t.target.composing||e.$set(e.form,"password",t.target.value)}}})]),s("div",{directives:[{name:"show",rawName:"v-show",value:"error"==e.error.status,expression:"error.status == 'error'"}],staticClass:"form__group-input error"},[e._v(" "+e._s(e.error.msg)+" ")]),s("div",{staticClass:"form__group-input"},[s("button",{staticClass:"button button-primary",on:{click:e.submit}},[e._v("Отправить")])])])])])},z=[],G={name:"Login",data(){return{form:{login:"login1",password:"login1",act:"login"},msg:""}},computed:{...Object(l["e"])("AuthModule",["error"])},methods:{...Object(l["b"])("AuthModule",["login"]),...Object(l["d"])("AuthModule",["init"]),submit(){const e=new FormData;e.append("act",this.form.act),e.append("login",this.form.login),e.append("pass",this.form.password),this.login(e)}}},R=G,W=(s("ebc5"),Object(f["a"])(R,Z,z,!1,null,"5ef0a343",null)),X=W.exports,Y=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div")},ee=[],te={name:"Ontime"},se=te,ne=Object(f["a"])(se,Y,ee,!1,null,"1387dce6",null),re=ne.exports,ae=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div")},le=[],oe={name:"Ushu"},ie=oe,ce=Object(f["a"])(ie,ae,le,!1,null,"3872f86d",null),ue=ce.exports,de=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div")},pe=[],me={name:"Logs"},he=me,fe=Object(f["a"])(he,de,pe,!1,null,"1fddc026",null),ve=fe.exports,ge=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},_e=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",{staticClass:"page not-found"},[s("h1",[e._v("Страница не найдена.")])])}],be={name:"404"},Ce=be,ke=Object(f["a"])(Ce,ge,_e,!1,null,"087f1eb6",null),we=ke.exports;const ye=" | Панель администратора Kaboom2";var Se=[{path:"/",name:"Home",component:V,meta:{title:"Главная"+ye}},{path:"/login",name:"Login",component:X,meta:{title:"My Page Title"+ye}},{path:"/ontime",name:"Ontime",component:re,meta:{title:"My Page Title"+ye}},{path:"/ushu",name:"Ushu",component:ue,meta:{title:"My Page Title"+ye}},{path:"/logs",name:"Logs",component:ve,meta:{title:"My Page Title"+ye}},{path:"*",component:we}];n["a"].use(y["a"]);const Oe=new y["a"]({routes:Se});Oe.beforeEach((e,t,s)=>{const n=localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null,r=!(!n||!n.success)&&n.success;"Login"===e.name||r?"Login"===e.name&&r?s({path:"/"}):s():s({name:"Login"})});var je=Oe,Pe={namespaced:!0,state:()=>({token:null,api:{url:"https://mips-admin.kaboom2.net/api/"},user:null,error:{status:"ok",msg:""}}),getters:{isAuthenticated:e=>e.user&&e.user.success,getStaff:e=>!(!e.user||!e.user.stuff)&&e.user.stuff},mutations:{auth:(e,t)=>{e.user=t},logout:e=>{e.user=null,localStorage.removeItem("user"),je.push("/login")},fallback(e,{status:t,msg:s}){e.error={status:t,msg:s}},fallbackClear(e){e.error={status:"ok",msg:""}}},actions:{login:({state:e,commit:t},s)=>{try{const n=fetch(e.api.url,{method:"post",body:s});n.then(e=>F(e)).then(e=>J(e)).then(e=>{if(!e.result.success)return t("fallback",{status:"error",msg:e.result.error}),!1;localStorage.setItem("user",JSON.stringify(e.result)),localStorage.setItem("lastQueryTime",e.time),t("auth",e.result),t("fallbackClear"),je.push("/")}).catch(e=>{console.log("error",e)})}catch(n){console.error("Ошибка прохождения аутентификации.")}}}},Ae={namespaced:!0,state:()=>({show:!1}),getters:{},mutations:{showLayer(e){e.show=!0},hideLayer(e){e.show=!1}},actions:{}},xe={namespaced:!0,state:()=>({select:{title:"",value:"",placeholder:"Выберите пункт"},input:"",helpers:{servers:{current:"",list:[]}}}),getters:{getServersList:e=>e.helpers.servers.list,getCurrentServer:e=>e.helpers.servers.current},mutations:{clear:e=>{e.input="",e.select={title:"",value:"",placeholder:"Выберите пункт"},e.helpers.servers.current=""},fullClear:e=>{e.input="",e.select={title:"",value:"",placeholder:"Выберите пункт"},e.helpers.servers.current=""},updateSelect:(e,t)=>{t&&(e.select=t)},updateInput:(e,t)=>{t&&(e.input=t)},updateServers:(e,t)=>{t&&(e.helpers.servers.list=t)},updateCurrentServer:(e,t)=>{t&&(e.helpers.servers.current=t)}},actions:{fetchServersList:({commit:e})=>{const t="https://mips-admin.kaboom2.net/api/?act=servers",s=fetch(t,{method:"post"});s.then(t=>{try{t.json().then(t=>{if(""!=t.error)return console.error("Query to API was rejected or wrongly read."),!1;e("updateServers",t.result)})}catch(s){throw s}}),s.catch(e=>{console.error(e)})}}};n["a"].use(l["a"]);var Le=new l["a"].Store({state:{},mutations:{},actions:{},modules:{AuthModule:Pe,AnimationModule:Ae,CheckModule:xe}});n["a"].config.productionTip=!1,new n["a"]({router:je,store:Le,render:e=>e(k)}).$mount("#app")},"5c0b":function(e,t,s){"use strict";s("9c0c")},"5e8d":function(e,t,s){},"6ad7":function(e,t,s){"use strict";s("75c0")},"75c0":function(e,t,s){},"77f5":function(e,t,s){"use strict";s("b9d5")},"9c0c":function(e,t,s){},b9d5:function(e,t,s){},e33c:function(e,t,s){e.exports=s.p+"img/MenuButton.c895596e.svg"},e373:function(e,t,s){"use strict";s("0a54")},ebc5:function(e,t,s){"use strict";s("00c3")},ff85:function(e,t,s){e.exports=s.p+"img/hideMenu.f2bf6240.svg"}});
//# sourceMappingURL=app.67975778.js.map